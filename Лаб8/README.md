# Практическая работа 008
gribanovaaalya@yandex.ru

## Название

Использование технологии Yandex DataLens для анализа данных сетевой
активности

## Цель работы

1.  Изучить возможности технологии Yandex DataLens для визуального
    анализа структурированных наборов данных
2.  Получить навыки визуализации данных для последующего анализа с
    помощью сервисов Yandex Cloud
3.  Получить навыки создания решений мониторинга/SIEM на базе облачных
    продуктов и открытых программных решений
4.  Закрепить практические навыки использования SQL для анализа данных
    сетевой активности в сегментированной корпоративной сети

## Исходные данные

1.  Ноутбук с ОС Windows 10
2.  Rstudio Desktop
3.  Интерпретатор R 4.5.1

``` r
sessionInfo()
```

    R version 4.5.1 (2025-06-13 ucrt)
    Platform: x86_64-w64-mingw32/x64
    Running under: Windows 10 x64 (build 19045)

    Matrix products: default
      LAPACK version 3.12.1

    locale:
    [1] LC_COLLATE=Russian_Russia.utf8  LC_CTYPE=Russian_Russia.utf8   
    [3] LC_MONETARY=Russian_Russia.utf8 LC_NUMERIC=C                   
    [5] LC_TIME=Russian_Russia.utf8    

    time zone: Europe/Moscow
    tzcode source: internal

    attached base packages:
    [1] stats     graphics  grDevices utils     datasets  methods   base     

    loaded via a namespace (and not attached):
     [1] compiler_4.5.1    fastmap_1.2.0     cli_3.6.5         tools_4.5.1      
     [5] htmltools_0.5.8.1 rstudioapi_0.17.1 yaml_2.3.10       rmarkdown_2.30   
     [9] knitr_1.50        jsonlite_2.0.0    xfun_0.53         digest_0.6.37    
    [13] rlang_1.1.6       evaluate_1.0.5   

## Задание

Используя сервис Yandex DataLens, настроить доступ к Yandex Query,
который Вы использовали в ходе ранее выполненных практических работ, и
визуально представить результаты анализа данных.

## План выполнения

1.  Настроить подключение к Yandex Query из DataLens
2.  Создать из запроса YandexQuery датасет DataLens
3.  Создать графики

3.1. Представить в виде круговой диаграммы соотношение внешнего и
внутреннего сетевого трафика 3.2. Представить в виде столбчатой
диаграммы соотношение входящего и исходящего трафика из внутреннего
сетвого сегмента 3.3. Построить график активности (линейная диаграмма)
объема трафика во времени

1.  Вывести построенные графики в виде единого дашборда в Yandex
    DataLens

## Описание шагов

### Шаг 1

Настроим подключение к Yandex Query из DataLens:

#### 1. Откроем сервис DataLens:

![](./img/img1.png)

#### 2. Выберем “Подключения” – “Создать новое подключение”:

![](./img/img2.png)

#### 3. В разделе “Файлы и сервисы” выберем Yandex Query:

![](./img/img3.png)

#### 4. Настроим подключение:

![](./img/img4.png)

### Шаг 2

#### Создадим из запроса YandexQuery датасет DataLens, перетащив созданную ранее таблицу:

![](./img/img5.png)

### Шаг 3

Создадим нужные графики и диаграммы:

#### 1. Создадим круговую диаграмму соотношения внешнего и внутреннего сетевого трафика:

Создадим новое поле in_out_traf, необходимое для построения данной
диаграммы:

![](./img/img6.png)

Получившаяся диаграмма:

![](./img/img7.png)

#### 2. Создадим столбчатую диаграмму соотношения входящего и исходящего трафика из внутреннего сетевого сегмента:

Создадим новое поле in_out_traf_2, необходимое для построения данной
диаграммы:

![](./img/img8.png)

С помощью фильтра отключим отображение “Другого” трафика:

![](./img/img9.png)

Получившаяся диаграмма:

![](./img/img10.png)

#### 3. Построим график активности объема трафика во времени:

Создадим поле time для преобразования времени:

![](./img/img11.png)

Получившийся график:

![](./img/img12.png)

### Шаг 4

#### Составим итоговый дашборд:

![](./img/img13.png)

[Ссылка на итоговый дашборд](https://datalens.yandex/m62z0hf8erpm7)

## Вывод

В результате выполнения практической работы были изучены возможности
технологии Yandex DataLens для визуального анализа структурированных
наборов данных, получены навыки визуализации данных для последующего
анализа с помощью сервисов Yandex Cloud, закреплены практические навыки
использования SQL для анализа данных сетевой активности в
сегментированной корпоративной сети
